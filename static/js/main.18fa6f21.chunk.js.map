{"version":3,"sources":["controls/InputButton.js","SavedQuery.js","controls/SaveQueryButton.js","images/diskette.png","controls/InputButtonsPanel.js","controls/RandomQueryButton.js","images/shuffle-icon.png","RichTextEditor.js","QueryView.js","images/up-arrow.png","images/copy-icon.png","controls/NotationSwitch.js","controls/ConvertButtonsPanel.js","SchemaInput.js","InputSchemaPanel.js","SwitchCard.js","SwitchCardPanel.js","App.js","index.js"],"names":["InputButton","props","handleMouseDown","bind","e","preventDefault","this","symbol","StyledInputButton","onMouseDown","className","React","Component","styled","button","SavedQuery","handleQueryClick","setText","content","length","removeSavedQuery","number","StyledSavedQuery","onContextMenu","handleQueryRightClick","onClick","id","place","effect","div","SaveQueryButton","StyledSavedQueryButton","handleSaveClick","SaveIcon","src","alt","img","InputButtonsPanel","inputButtonSymbols","StyledInputButtonsPanelWrapper","StyledInputButtonsPanel","map","idx","RandomQueryButton","StyledRandomQueryButton","handleClick","RandomIcon","RichTextEditor","state","editorState","EditorState","createEmpty","latexTextFieldContent","savedQueries","JSON","parse","localStorage","getItem","focus","editorRef","current","onChange","setState","getCurrentText","handleTextChange","handleKeyCommand","_handleKeyCommand","mapKeyToEditorCommand","_mapKeyToEditorCommand","toggleInlineStyle","_toggleInlineStyle","insertText","save","clear","lastHitKey","createRef","command","newState","RichUtils","keyCode","getDefaultKeyBinding","inlineStyle","undefined","text","cursorOffset","currentContent","getCurrentContent","currentSelection","getSelection","newSelection","merge","anchorOffset","getAnchorOffset","focusOffset","newContent","Modifier","replaceText","newEditorState","push","forceSelection","convertToRaw","blocks","block","trim","join","newSavedQueries","setItem","stringify","queryNumber","splice","SavedQueriesPanel","savedQuery","RichTextEditorWrapper","handleClearClick","fetchRandomQuery","StyledRichTextEditor","blockStyleFn","customStyleMap","keyBindingFn","placeholder","ref","QueryView","conversionTable","Map","convertedText","convertToLatex","convertFromAPIToLatex","charToLatex","prevProps","prevState","snapshot","isInput","split","char","replace","has","get","replaceAll","console","log","katex","render","document","getElementById","throwOnError","displayMode","errorOccurred","operators","formattingEnabled","i","style","position","whiteSpace","QueryViewLabel","label","StyledQueryView","slice","SideButton","handleMoveToTextEditorButtonClick","window","prompt","marginTop","NotationSwitch","standardChosen","handleNotationSwitch","StyledNotationSwitch","Button","variant","ConvertButtonsPanel","apiText","textEditorContent","fetchAtomicConversion","notationSwitch","StyledConvertButtonsPanel","fetchNotationConversion","HiddenCircle","span","SchemaInput","inputValue","defaultValue","wrongInput","identifierRegex","schemaRegex","RegExp","handleChange","inputText","target","value","test","row","col","StyledSchemaInput","inputRef","input","InputSchemaPanel","values","Array","rows","keys","columns","newVal","StyledInputSchemaPanel","j","defaultValues","name","repeat","SwitchCard","isSelected","handleSwitch","checked","inputProps","StyledSwitchCard","htmlFor","Checkbox","defaultChecked","SwitchCardPanel","newValue","StyledSwitchPanel","semanticChecking","formatting","prenexForm","BASE_URL","App","schemaInputRows","schemaInputCols","defaultSchemaInput","latexContent","outputData","schemaInput","switchValues","latexConversionMap","updateContent","fetchConversion","setFormatting","getSchemaInputValues","handleSchemaInputChange","latexTextField","textEditor","newLatexContent","fetch","then","r","url","data","method","headers","body","status","Object","expression","getContentForConversion","schema","options","fromEntries","notationString","filter","el","flatMap","s","idxLeftPar","indexOf","idxRightPar","newMap","set","AppWrapper","href","rel","type","updateLatexContent","ButtonsAndSchemaSection","ConvertButtonsWrapper","StyledSwitchCardPanel","section","ReactDOM","StrictMode","theme","isMonochromatic"],"mappings":"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","file":"static/js/main.18fa6f21.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from \"styled-components\";\r\n\r\nexport default class InputButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleMouseDown = this.handleMouseDown.bind(this);\r\n    }\r\n\r\n    handleMouseDown(e) {\r\n        e.preventDefault();\r\n        this.props.handleMouseDown(this.props.symbol);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n          <StyledInputButton onMouseDown={this.handleMouseDown}\r\n                  className=\"control-button\">\r\n              {this.props.symbol}\r\n          </StyledInputButton>\r\n        );\r\n    }\r\n}\r\n\r\nInputButton.propTypes = {\r\n  symbol: PropTypes.string.isRequired,\r\n  handleMouseDown: PropTypes.func.isRequired\r\n};\r\n\r\nconst StyledInputButton = styled.button`\r\n    display: inline;\r\n    list-style-type: none;\r\n    color: #94bffe;\r\n    cursor: pointer;\r\n    -webkit-box-shadow: none!important;\r\n    box-shadow: none!important;\r\n    font-size: 18px;\r\n    font-weight: 400;\r\n    overflow: hidden!important;\r\n    width: 50px;\r\n    height: 50px;\r\n    border: none;\r\n    background: var(--input-color);\r\n    position: relative;\r\n    background: none;\r\n\r\n    &:hover {\r\n      color: white;\r\n      /*text-shadow: 2px 4px 3px rgba(0,0,0,0.3);*/\r\n    }\r\n\r\n    &:active {\r\n      transform: translateY(1px);\r\n    }\r\n\r\n    &:not(:last-child) {\r\n      margin-right: 0;\r\n    }\r\n`","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default class SavedQuery extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleQueryClick = this.handleQueryClick.bind(this);\r\n    }\r\n\r\n    handleQueryClick() {\r\n        this.props.setText(this.props.content, this.props.content.length);\r\n    }\r\n\r\n    handleQueryRightClick(e) {\r\n        e.preventDefault();\r\n        this.props.removeSavedQuery(this.props.number);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <StyledSavedQuery onContextMenu={e => this.handleQueryRightClick(e)}>\r\n                <button data-tip data-for={`savedQueryTip${this.props.number}`} onClick={this.handleQueryClick}>\r\n                    { this.props.number }\r\n                </button>\r\n                <ReactTooltip id={`savedQueryTip${this.props.number}`} place=\"bottom\" effect=\"solid\">\r\n                    { this.props.content }\r\n                </ReactTooltip>\r\n            </StyledSavedQuery>\r\n        );\r\n    }\r\n}\r\n\r\nconst StyledSavedQuery = styled.div`\r\n  border: white solid 1px;\r\n  color: white;\r\n  display: flex;\r\n  background: var(--controls-color);\r\n  margin-left: 0.75em;\r\n  \r\n  button {\r\n    padding: 0;\r\n    border: none;\r\n    width: 20px;\r\n    height: 22px;\r\n    background: var(--controls-color);\r\n  }\r\n`","import React from \"react\";\r\nimport diskette from '../images/diskette.png';\r\nimport styled from \"styled-components\";\r\n\r\nexport default class SaveQueryButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <StyledSavedQueryButton onClick={() => this.props.handleSaveClick()}>\r\n                <SaveIcon src={diskette}\r\n                          className=\"save-icon\"\r\n                          alt=\"save diskette icon\"/>\r\n            </StyledSavedQueryButton>\r\n        );\r\n    }\r\n}\r\n\r\nconst StyledSavedQueryButton = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  right: 16px;\r\n  top: 16px;\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  z-index: 2;\r\n`\r\n\r\nconst SaveIcon = styled.img`\r\n  width: 25px;\r\n  height: 25px;\r\n  filter: invert(67%) sepia(0%) saturate(0%) hue-rotate(175deg) brightness(104%) contrast(96%);\r\n  \r\n  &:hover {\r\n    transform: translateY(0.2px);\r\n    filter: invert(0%) sepia(89%) saturate(7500%) hue-rotate(211deg) brightness(107%) contrast(94%)\r\n  }\r\n`","export default \"data:image/png;base64,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yEyGnv92zlUFK3tVlj3535LkiiRXJrkq0+M+b0pyd2FN0N1xSU5O8pQkz0pyfpKXJjmpsKaH8sgkP57ksupCmMf+4te2+FTqx/JQr2uTvCnJo9b31oEZPSrJJUn2pv7z41CvT67vrW9c9ViWaz8AM9id6fex1WN58OuOJD8bq0QwquOS/FySb6f+8+Tg191JHr3G971J1WNZrv0AzOCi1I/jwa+98WsE2BbPS/K11H+uHPx66Vrf8eZUj+NK/ApgGV5cXcBB/jjTg4iuqS4EmMUfJnlupnuMLMX51QUwj6ET0EJclfpx3J/pm/+pa36vQI0nZfqlUfXnzP5MXzS2QfU4lms/ACvanenOWNXjeEcs+8O2e16mn+JVf97cm+X+UuFIVI/jSpwCqHdmlnEvg38ey/6w7f4wyb+pLiLT3HNmdRHdCQD1lvA/wd4k76guAtiIX07yl9VFZBmffa0JAPXOqC4gyaXZvsd0Aod2W5J/WV1ElvHZ15oAUO+s4v3fkuQ3imsANuu9SW4trsEKQDEBoN4Ti/d/RaYLAIE+bk/y0eIanlS8//YEgHrVV8JeWbx/oEb1//vbcjfAYQkA9aoDwFXF+wdqVN8Y6MTi/bcnANSr/p/gq8X7B2pcX7x/KwDFBIB61SsAtxTvH6hxc/H+q7/8tDfHDWiq78a3hJvorML4AVV8/qxm6PGzAgAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADQkAANCQAAAADc0RAO6aYRur2FW8fwD6eUTx/r+z6gbmCAC3zrCNVTy6eP8A9LO7eP+3rbqBOQLAykWs6LTi/QPQz/cX7/+WVTewDSsAzyrePwD9PLN4/4tYAagOAOcX7x+Afi4o3v8iVgD+YoZtrOJlSU4orgGAPk5I8pLiGv7vqhuYIwDsmWEbqzgxyauLawCgj5/MNPdUunbVDcwRAFYuYgY/n+S46iIA2Hq7kry1uogIAH/tqUn+SXURAGy9f5r6XwAky5h78+gk+5LsL359O8nz1vxe16F63IC+fP4cmRckuTP143ZvkpPW/F4P21WpH5D9SW5I8uQ1v9e5VY8Z0JfPn8P3fZkuvKses/1JPj/HG5rrWQBXzrSdVf3NJL+X5EnVhQCwNZ6c5GNJnlhdyAGzzLlzBYBPzrSdOfxgpnR0XnUhAAzv+Uk+k+QZ1YUcZClfupNM90S+O/XLIge/7kzyL7L8ewRUjxPQl8+fB7cryS9kGef8D37dnQWd/7/Pf0v9wBzqdUOSf5DlBoHq8QH68vnzQCckeUuS61I/Pod6zfbtf8dcG0ryU0n+04zbm9ttSa7IdLriC0m+muSm1D/OuPp/gjl7ABhL98+fXUlOzvRQubOTvDjJham/yc9DuSTJu+fY0JyDvzvTt+3jZ9wmADC5M8kTMn15XdlcFwEmyc1JPjLj9gCA7/pQZpr8k3kDQJK8Z+btAQCT9865sbnPv+xIcnWSp8+8XQDo7MuZfoq4b64Nzr0CsD/J22beJgB0968y4+SfrOcKzGOTfCXTA3oAgNX8SZKzMj0DYDZzrwAkU4GXrmG7ANDRv87Mk3+yvt9gHpvks0metabtA0AHn0/y3KwhAKxjBSCZCv3pzHy+AgAa2ZfkH2YNk3+yvgCQTA9P+LU1bh8AttllSf5gXRtf920YT0myJ8nj1rwfANgmN2a68O8b69rBOlcAkukNXJz6+00DwCj2J3lz1jj5J9PFeuv2vzM9J+D5G9gXAIzu3yf51XXvZFNPYjou0+OChQAAeHCfSfLD2cCTajf5KManZHpjp25wnwAwiq8nOTfJn21iZ+u+BuBgf5rpOcu3bnCfADCCW5O8JBua/JPNBoBkujnQK5J8Z8P7BYCluivJ38t005+N2cRFgPf31Uz3NX5lNnsKAgCWZl+S1yb58KZ3XBEAkuSaA6+XJ9lZVAMAVLoryeuSvL9i59XfwM9P8jtJHl1cBwBs0m2Zlv1/v6qA6gCQJM9J8tEkj68uBAA24K+SvDTJ5yqL2PRFgIfyuSTnJPmf1YUAwJr9r0z3xCmd/JO6awDu75Yk7810+8PzsoyVCQCYy/5Md/d7TdZ8i9/DtcSJ9qIk744HCAGwHW5M8qYkH6ku5GBLWQE42LVJ3pXk+Ex3RFpiSAGAh7M/yfsy/eLtj4treYClT67PSfLOTEEAAEbxhSQ/kwVf37aEiwAfyucyXSxxSaanCgLAku1N8sYMcHH70lcADnZMpp9N/GKSZ9eWAgDf45okb09yeZJ7ims5LCMFgPvsSPKjSS7OdMHg8bXlANDUt5P8bqZfsX0s0zn/YYwYAA62O9OdlF6b5IfitsIArNc9Sf57kv+c5LeT3FxbztEbPQAc7IRM1wv8yIHX2Vn+NQ4ALN/1ST5x4PXxJDfVljOPbQoA93dSkjOTnJHkrAP/flKSEw+8Tj7wd1dVgQCUuivTPflvOvD3tiR/nulCvj2Zfpa+N8mtVQUCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJv1/wH2+CVbghmaVAAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport InputButton from \"./InputButton\";\r\nimport styled from 'styled-components';\r\n\r\nclass InputButtonsPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.inputButtonSymbols = ['π', 'σ', 'ρ', '⋈', '⟕', '⟖', '⟗', '⋉', '⋊', '▷', '◁', '∧', '∨', '¬', '≠', '≥', '≤', '∩', '∪', '\\\\', '÷', '⨯', '→', '*', '⟨', '⟩'];\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <StyledInputButtonsPanelWrapper>\r\n                <StyledInputButtonsPanel>\r\n                    {this.inputButtonSymbols.map((symbol, idx) =>\r\n                        <InputButton symbol={symbol}\r\n                                     key={idx}\r\n                                     handleMouseDown={this.props.handleMouseDown}/>)}\r\n                </StyledInputButtonsPanel>\r\n            </StyledInputButtonsPanelWrapper>\r\n        );\r\n    }\r\n}\r\n\r\nexport default InputButtonsPanel;\r\n\r\nconst StyledInputButtonsPanelWrapper = styled.div`\r\n  background: var(--light-blue);\r\n  padding: 0 15px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\r\n  z-index: 2;\r\n  transition: background .4s ease-in-out;\r\n`\r\n\r\nconst StyledInputButtonsPanel = styled.div`\r\n  width: fit-content;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`","import React from \"react\";\r\nimport shuffleIcon from '../images/shuffle-icon.png';\r\nimport styled from \"styled-components\";\r\n\r\nexport default class RandomQueryButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <StyledRandomQueryButton onClick={() => this.props.handleClick()}>\r\n                <RandomIcon src={shuffleIcon}\r\n                          className=\"save-icon\"\r\n                          alt=\"save diskette icon\"/>\r\n            </StyledRandomQueryButton>\r\n        );\r\n    }\r\n}\r\n\r\nconst StyledRandomQueryButton = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  right: 11px;\r\n  top: 48px;\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  z-index: 2;\r\n`\r\n\r\nconst RandomIcon = styled.img`\r\n  filter: invert(67%) sepia(0%) saturate(0%) hue-rotate(175deg) brightness(104%) contrast(96%);\r\n  \r\n  &:hover {\r\n    transform: translateY(0.2px);\r\n    filter: invert(0%) sepia(89%) saturate(7500%) hue-rotate(211deg) brightness(107%) contrast(94%)\r\n  }\r\n`","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABF0lEQVRIie3VT0rDQBTH8Y9uqgdwY3uKovYK1r1X8CrWP3s9g0hdeASvIC1eQbCuhC6EusiUjqFJ0zYmCPnCgzB5b37zJpnf0NDwz3jGYR3CM0xwUYfwPFZ2/xIlT/GGG3Ryajq4DbnTlGAc7zgvIhzHBP0l+Wf4zBErLBzTwjGGofAL3eh9N4zN8IijUDMnFn3AQRHRNPdhghH2QozC2F1GzVpdZhELDULEC1nGxl2m6eE7Fb0yJi7ClcV3G2w72e4auTsZz39KLVvdwqtkiy8tfq4x9jNqSvHqSo9TS7KVT1YbyBAntjCQLMv8wOmS/L7ETre2zPQlMZYcoXbOYtu4DrkbXxJlUopXbypcWZcxlXbZ0PCLH//riSgQrRMxAAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport {convertToRaw, Editor, EditorState, getDefaultKeyBinding, Modifier, RichUtils} from 'draft-js';\r\nimport 'draft-js/dist/Draft.css';\r\nimport InputButton from \"./controls/InputButton\";\r\nimport PropTypes from 'prop-types';\r\nimport SavedQuery from \"./SavedQuery\";\r\nimport SaveQueryButton from \"./controls/SaveQueryButton\";\r\nimport InputButtonsPanel from \"./controls/InputButtonsPanel\";\r\nimport styled from \"styled-components\";\r\nimport RandomQueryButton from \"./controls/RandomQueryButton\";\r\n\r\nclass RichTextEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editorState: EditorState.createEmpty(),\r\n            latexTextFieldContent: \"\",\r\n            savedQueries: JSON.parse(localStorage.getItem('savedQueries')) || []\r\n        };\r\n\r\n        this.focus = () => this.editorRef.current.focus();\r\n        this.onChange = (editorState) => {\r\n            this.setState({editorState});\r\n            this.setState({\r\n                latexTextFieldContent: \"$$\" + this.getCurrentText(editorState) + \"$$\"\r\n            });\r\n\r\n            this.props.handleTextChange(this.getCurrentText(editorState));\r\n        }\r\n\r\n        this.handleKeyCommand = this._handleKeyCommand.bind(this);\r\n        this.mapKeyToEditorCommand = this._mapKeyToEditorCommand.bind(this);\r\n        this.toggleInlineStyle = this._toggleInlineStyle.bind(this);\r\n        this.insertText = this.insertText.bind(this);\r\n        this.getCurrentText = this.getCurrentText.bind(this);\r\n        this.handleMouseDown = this.handleMouseDown.bind(this);\r\n        this.setText = this.setText.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n        this.removeSavedQuery = this.removeSavedQuery.bind(this);\r\n\r\n        this.lastHitKey = 4;\r\n        this.editorRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.editorRef.current.focus();\r\n    }\r\n\r\n    _handleKeyCommand(command, editorState) {\r\n        const newState = RichUtils.handleKeyCommand(editorState, command);\r\n        if (newState) {\r\n            this.onChange(newState);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    _mapKeyToEditorCommand(e) {\r\n        this.lastHitKey = e;\r\n\r\n        if (e.keyCode === 39) {\r\n\r\n        }\r\n\r\n        return getDefaultKeyBinding(e);\r\n    }\r\n\r\n    _toggleInlineStyle(inlineStyle) {\r\n        this.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n                this.state.editorState,\r\n                inlineStyle\r\n            )\r\n        );\r\n    }\r\n\r\n    handleMouseDown(symbol) {\r\n        let newState = undefined;\r\n\r\n        if (symbol === 'σ' || symbol === 'π' || symbol === 'ρ') {\r\n            newState = this.insertText(symbol + \"_{}()\", this.state.editorState, 3);\r\n        } else {\r\n            newState = this.insertText(symbol, this.state.editorState, 1);\r\n        }\r\n\r\n        this.onChange(newState);\r\n    }\r\n\r\n    setText(text, cursorOffset = 0) {\r\n        let newState = this.insertText(text, EditorState.createEmpty(), cursorOffset);\r\n        this.onChange(newState);\r\n    }\r\n\r\n    insertText(text, editorState, cursorOffset) {\r\n        const currentContent = editorState.getCurrentContent(),\r\n            currentSelection = editorState.getSelection();\r\n\r\n        const newSelection = currentSelection.merge({\r\n            anchorOffset: currentSelection.getAnchorOffset() + cursorOffset,\r\n            focusOffset: currentSelection.getAnchorOffset() + cursorOffset,\r\n        });\r\n\r\n        const newContent = Modifier.replaceText(\r\n            currentContent,\r\n            currentSelection,\r\n            text\r\n        );\r\n\r\n        const newEditorState = EditorState.push(editorState, newContent, 'insert-characters');\r\n        return EditorState.forceSelection(newEditorState, newSelection);\r\n    }\r\n\r\n    getCurrentText(editorState) {\r\n        const blocks = convertToRaw(editorState.getCurrentContent()).blocks;\r\n\r\n        return blocks.map(block => (!block.text.trim() && '\\n') || block.text).join('\\n');\r\n    }\r\n\r\n    clear() {\r\n        this.setText(\"\", 0);\r\n    }\r\n\r\n    save() {\r\n        if (this.state.savedQueries.length <= 40) {\r\n            let newSavedQueries = [...this.state.savedQueries, this.getCurrentText(this.state.editorState)];\r\n\r\n            this.setState({savedQueries: newSavedQueries});\r\n\r\n            localStorage.setItem(\"savedQueries\", JSON.stringify(newSavedQueries));\r\n        }\r\n    }\r\n\r\n    removeSavedQuery(queryNumber) {\r\n        if (queryNumber >= 1 && queryNumber <= this.state.savedQueries.length) {\r\n            let newSavedQueries = this.state.savedQueries;\r\n            newSavedQueries.splice(queryNumber - 1, 1);\r\n\r\n            this.setState({savedQueries: newSavedQueries});\r\n\r\n            localStorage.setItem(\"savedQueries\", JSON.stringify(newSavedQueries));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {editorState} = this.state;\r\n\r\n        return (\r\n            <>\r\n                <SavedQueriesPanel>\r\n                    {this.state.savedQueries.map((savedQuery, idx) =>\r\n                        <SavedQuery key={idx}\r\n                                    content={savedQuery}\r\n                                    number={idx + 1}\r\n                                    setText={this.setText}\r\n                                    removeSavedQuery={this.removeSavedQuery}/>)}\r\n                </SavedQueriesPanel>\r\n                <InputButtonsPanel handleMouseDown={this.handleMouseDown}/>\r\n                <RichTextEditorWrapper>\r\n                    <SaveQueryButton handleSaveClick={this.save}\r\n                                     handleClearClick={this.clear}/>\r\n                    <RandomQueryButton handleClick={this.props.fetchRandomQuery}/>\r\n                    <StyledRichTextEditor onClick={this.focus}>\r\n                        <Editor\r\n                            blockStyleFn={null}\r\n                            customStyleMap={null}\r\n                            editorState={editorState}\r\n                            handleKeyCommand={this.handleKeyCommand}\r\n                            keyBindingFn={this.mapKeyToEditorCommand}\r\n                            onChange={this.onChange}\r\n                            placeholder=\"Enter a query...\"\r\n                            ref={this.editorRef}/>\r\n                    </StyledRichTextEditor>\r\n                </RichTextEditorWrapper>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nRichTextEditor.propTypes = {\r\n    handleTextChange: PropTypes.func.isRequired\r\n};\r\n\r\nconst RichTextEditorWrapper = styled.div`\r\n  font-family: \"Computer Modern Sans\", sans-serif;\r\n  background-image: var(--almost-white-gradient);\r\n  font-size: 14px;\r\n  box-shadow: var(--box-shadow);\r\n  color: #1a2930;\r\n  padding: 0 15px 0 15px;\r\n  position: relative;\r\n`\r\n\r\nconst StyledRichTextEditor = styled.div`\r\n  cursor: text;\r\n  font-size: 40px;\r\n  margin-top: 4px;\r\n\r\n  .RichEditor-editor {\r\n    cursor: text;\r\n    font-size: 40px;\r\n    margin-top: 4px;\r\n  }\r\n\r\n  .RichEditor-editor .public-DraftEditorPlaceholder-root,\r\n  .RichEditor-editor .public-DraftEditor-content {\r\n    padding: 15px;\r\n  }\r\n\r\n  .RichEditor-editor .public-DraftEditor-content {\r\n\r\n  }\r\n\r\n  .RichEditor-hidePlaceholder .public-DraftEditorPlaceholder-root {\r\n    display: none;\r\n  }\r\n\r\n  .RichEditor-editor .RichEditor-blockquote {\r\n    border-left: 5px solid #eee;\r\n    color: #666;\r\n    font-family: 'Hoefler Text', 'Georgia', serif;\r\n    font-style: italic;\r\n    margin: 16px 0;\r\n    padding: 10px 20px;\r\n  }\r\n\r\n  .RichEditor-editor .public-DraftStyleDefault-pre {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n    font-family: 'Inconsolata', 'Menlo', 'Consolas', monospace;\r\n    font-size: 16px;\r\n    padding: 20px;\r\n  }\r\n\r\n  .RichEditor-controls {\r\n    font-family: 'Helvetica', sans-serif;\r\n    font-size: 14px;\r\n    margin-bottom: 5px;\r\n    user-select: none;\r\n  }\r\n\r\n  .RichEditor-styleButton {\r\n    color: #999;\r\n    cursor: pointer;\r\n    margin-right: 16px;\r\n    padding: 2px 0;\r\n    display: inline-block;\r\n  }\r\n\r\n  .RichEditor-activeButton {\r\n    color: #5890ff;\r\n  }\r\n  \r\n  .public-DraftEditorPlaceholder-root, .public-DraftEditor-content {\r\n    padding: 15px;\r\n  }\r\n\r\n  .RichEditor-blockquote {\r\n    border-left: 5px solid #eee;\r\n    color: #666;\r\n    font-family: 'Hoefler Text', 'Georgia', serif;\r\n    font-style: italic;\r\n    margin: 16px 0;\r\n    padding: 10px 20px;\r\n  }\r\n\r\n  .public-DraftStyleDefault-pre {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n    font-family: 'Inconsolata', 'Menlo', 'Consolas', monospace;\r\n    font-size: 16px;\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst SavedQueriesPanel = styled.div`\r\n  display: flex;\r\n  margin: 0 auto -0.5px auto;\r\n`\r\n\r\nexport default RichTextEditor;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from \"styled-components\";\r\nimport katex from \"katex/dist/katex.mjs\";\r\nimport upArrow from \"./images/up-arrow.png\";\r\nimport copyIcon from \"./images/copy-icon.png\";\r\n\r\nexport default class QueryView extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.conversionTable = new Map([['π', ' \\\\pi'], ['σ', ' \\\\sigma'], ['ρ', ' \\\\rho'], ['∧', ' \\\\land '],\r\n            ['∨', ' \\\\lor '], ['¬', ' \\\\lnot '], ['≠', ' \\\\neq '], ['≥', ' \\\\geq '], ['≤', ' \\\\leq '], ['∩', ' \\\\cap '],\r\n            ['∪', ' \\\\cup '], ['\\\\', ' \\\\setminus '], ['÷', ' \\\\div '], ['⨯', ' \\\\times '], ['→', ' \\\\rightarrow '], ['◁', ' \\\\triangleleft '], ['▷', ' \\\\triangleright '],\r\n            ['⋈', ' \\\\bowtie '],\r\n            ['⟕', ' \\\\leftouterjoin '],\r\n            ['⟖', ' \\\\rightouterjoin '],\r\n            ['⟗', ' \\\\fullouterjoin '],\r\n            ['⋉', ' \\\\ltimes '],\r\n            ['⋊', ' \\\\rtimes '],\r\n            ['⟨', '\\\\langle '],\r\n            ['⟩', ' \\\\rangle ']\r\n        ]);\r\n\r\n        this.convertedText = '';\r\n\r\n        this.convertToLatex = this.convertToLatex.bind(this);\r\n        this.convertFromAPIToLatex = this.convertFromAPIToLatex.bind(this);\r\n        this.charToLatex = this.charToLatex.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.isInput) {\r\n            this.convertedText = this.convertToLatex(this.props.content);\r\n        } else {\r\n            this.convertedText = this.convertFromAPIToLatex(this.props.content);\r\n        }\r\n    }\r\n\r\n    getContentForConversion() {\r\n        let text = this.props.content;\r\n\r\n        if (text == null || text.length === 0) {\r\n            return \"\";\r\n        }\r\n\r\n        text = text.split(\"\").map(char => this.charToLatex(char, this.conversionTable)).join(\"\").replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\r\n\r\n        text = \"$$\" + text + \"$$\";\r\n\r\n        return text;\r\n    }\r\n\r\n    charToLatex(char, conversionTable) {\r\n        if (conversionTable.has(char)) {\r\n            return conversionTable.get(char);\r\n        }\r\n\r\n        return char;\r\n    }\r\n\r\n    convertToLatex(text) {\r\n        if (text == null || text.length === 0) {\r\n            return \"\";\r\n        }\r\n\r\n        text = text.split(\"\").map(char => this.charToLatex(char, this.conversionTable)).join(\"\").replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\r\n\r\n        text = text.replaceAll(\"\\\\leftouterjoin\", '⟕')\r\n            .replaceAll('\\\\rightouterjoin', '⟖')\r\n            .replaceAll('\\\\fullouterjoin', '⟗');\r\n\r\n        console.log('Displaying: ' + text);\r\n\r\n        katex.render(text, document.getElementById('query-view-input-true'), {\r\n            throwOnError: false,\r\n            displayMode: true\r\n        });\r\n    }\r\n\r\n    convertFromAPIToLatex(text) {\r\n        if (text == null || text.length === 0) {\r\n            return \"\";\r\n        }\r\n\r\n        if (!this.props.errorOccurred) {\r\n            text = text.replaceAll(\"\\\\leftouterjoin\", '⟕')\r\n                       .replaceAll('\\\\rightouterjoin', '⟖')\r\n                       .replaceAll('\\\\fullouterjoin', '⟗');\r\n\r\n            const operators = [' \\\\bowtie ', ' ⟕ ', ' ⟖ ', ' ⟗ ', ' \\\\rtimes ', ' \\\\ltimes ', ' \\\\triangleright ', ' \\\\triangleleft ',\r\n                ' \\\\cap ', ' \\\\cup ', ' \\\\setminus ', ' \\\\div ', ' *_{L} ', ' *_{R} ', ' *_{F} ', ' \\\\times ', ' \\\\ltimes ', ' \\\\rtimes '\r\n                , ' \\\\langle * ', '*\\\\rangle'];\r\n\r\n            if (this.props.formattingEnabled) {\r\n                for (let i = 0; i < operators.length; i++) {\r\n                    const current = operators[i];\r\n\r\n                    text = text.replaceAll(current, ' \\\\\\\\ ' + current + ' \\\\\\\\ ');\r\n                }\r\n\r\n                text = \"\\\\begin{gathered}\" + text + \"\\\\end{gathered}\";\r\n            }\r\n        } else {\r\n            return '';\r\n        }\r\n\r\n        console.log('CONVERTED_TEXT: ' + text);\r\n\r\n        katex.render(text, document.getElementById('query-view-input-false'), {\r\n            throwOnError: false,\r\n            displayMode: true\r\n        });\r\n\r\n        return text;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{position: 'relative', whiteSpace: 'break-spaces'}}>\r\n                <QueryViewLabel>\r\n                    {this.props.label}\r\n                </QueryViewLabel>\r\n                <StyledQueryView id={`query-view-input-${this.props.isInput}`}>\r\n                    { (this.props.errorOccurred && !this.props.isInput) ? this.props.content.replaceAll('.', '.\\n') : <></>}\r\n                </StyledQueryView>\r\n                { (!this.props.isInput\r\n                    && this.props.content.length !== 0\r\n                    && !this.props.errorOccurred\r\n                    && this.props.content.slice(0, 2) !== '\\\\{'\r\n                    && !this.props.formattingEnabled\r\n                )\r\n                &&\r\n                    <>\r\n                <SideButton onClick={() => this.props.handleMoveToTextEditorButtonClick(this.convertedText)}>\r\n                    <img src={upArrow} alt='arrow up' />\r\n                </SideButton>\r\n                <SideButton onClick={() => window.prompt('Copy:', this.props.content)} marginTop='4em'>\r\n                    <img src={copyIcon} alt='copy' />\r\n                </SideButton>\r\n                </>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst SideButton = styled.div`\r\n  position: absolute;\r\n  top: ${({ marginTop }) => marginTop ?? '1em'};\r\n  right: 1em;\r\n  \r\n  img {\r\n    cursor: pointer;\r\n    width: 2em;\r\n    height: 2em;\r\n\r\n    filter: invert(67%) sepia(0%) saturate(0%) hue-rotate(175deg) brightness(104%) contrast(96%);\r\n\r\n    &:hover {\r\n      transform: translateY(0.2px);\r\n      filter: invert(0%) sepia(89%) saturate(7500%) hue-rotate(211deg) brightness(107%) contrast(94%)\r\n    }\r\n  }\r\n`;\r\n\r\nconst StyledQueryView = styled.div`\r\n  border: solid white 1px;\r\n  color: black;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 1em;\r\n  box-shadow: var(--box-shadow);\r\n  background: var(--query-view-color);\r\n  min-height: 9vh;\r\n  font-size: 1.25rem;\r\n  background-image: var(--almost-white-gradient);\r\n  position: relative;\r\n`\r\n\r\nconst QueryViewLabel = styled.label`\r\n  color: white;\r\n  position: absolute;\r\n  font-size: 1.25rem;\r\n  top: -1.5em;\r\n  left: 0.1em;\r\n`\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEIElEQVR4nO2bTWxVRRTHf7RQqAQqH24IRKsmNsYIJiz4jhISJVobIRhiCCxcmEg3rDAaVtBu2AHRBd1A2Eh0Y2FFIEJilEBCCBBADQbLR0kL1MeHUMCymPfCu2fmvnfnzT3vvmv4JbMYOv8755x3586ZD6D+dAJ/FEtnBv1nynLgATBWLKPAB5laVEfmA3d45nyp3AMWZmhXXXgdGMR2vlSGgI7MrFNmFvAX8c6XygAwJyMb1WgDTmE7uw3ocfz7WWB6JpYq0Aocw3ZyDzCuWHY7/v4rMDkDe1OlGfgR27mfgPGi3Q+Odv2iXa4YB/Th/mVfcLRvBY462u8tPit39GI7cwaYVkEzFfe3okfVUgW+xHbib5J93eNmi00qliqwFnhC2Pzuyhf+AzakaqkCMsUNyfDmAwXxrIZOmV0p7ijwfsAz0wyoKnGv7PoUnp3GkFKlHh8t10e1IVLmSilu2jRcyhyX4molLg2VMidNcTX6zTxl9k1x0ybzlLmWFDdtMkuZQ1LctKl7yvwp9nycpAwAK2vo70PgSg39PQHW1NBfVa7XYEz5W+LLQEB/V307a0rQZsz3oWXUMkRmB/QXYmssnZjI1vqr+BLy63/k25nG9CGd9u0jVO9FkiHwv+Z5ALI2IGs0AjAq6hMC9RMDbKmKRgDuirrvOkHq2wJsqYpGAAqiPjVQ/2KALVXRCMCIqPsmQ7l/A/4U9Vc99TdEfWaALVXRCMAFUffdxPxd1N8MsKUqGgG4KOq+W9kyAG8H2JIJrxHN0Qv4bVutFPpTaRtYDy4TdeI9D+0soX2Afy6RGK1M8Iiof+KhvYa5QldiIrAk2KIYtALQL+qr8RsGP4t67u4TtgDDRF/lVR76dUIrp9Zc8C1RJw57aF/CrAnK9Q1zJpiUdzAHpeVOLPXQHxDa3rQNrAcHiTpx1EP7mdAOYQ5HcsUi7L27tQm1k7HvHXyuYKM6/USduE7y06QdQntaw0BtXsas8Mod2Z9QOwf7Y7hawUZ1tmAPhY0JtfuE7hIwScFGVVqA40QdeQisSKB9C3gstF/pmKlLO3CbqCP/APMSaL8TugJmzZA7urAPWocxN80qMQO4KXSHyOmudjf292AEeLeKznVE/7WembpsxXbmEbC5gqYJk05LzWJVSxVxBWEM+J74fcDZ2Iushrg2VyvduC9fDGIuZrgORruw1xjnMQuoXNIF3ML9NvyCSacl2x1tT+J/BtEwvAL8RvzZ/zHMrlJzsX0TZqi42qmeI2jSAnwD3Cc+EIPATmAZMAWzcyTbnMPkHLmlHXPxMi4IpXIPOBHztxu4h06uWIBZScoPXtLyL/Bx3a1WYC6wC3v6S1KuZGCvGi2YGaMPsyJMJQC5/G9pRdoxw6QDeANzIjUdMwtMwWyhfYHZlovlKXkRUTFGrcSbAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAACK0lEQVR4nO2aT05CMRCHP13IIZD7aHThwsSNR0BOZ/QGois4A+AJYKUmunghwdK+1z/TFnjzJbMg9s10fszrTCygKIpSlhtgBfwm2idwV3jvIixJT35r38BD2e2nIynAUYpwjYqQhEuEH+Cx4r6K0VYJvRDBVv69eh1MAe7ZF0GkEgbABHgHNpbAobZCpm+bfqH5xkUrYQjMLcEO4bS2CQCCIgzIk7yUCGvD3+XO30REmHgkUVOED8PXC8IimAGeaV6JWKRFeHL4W9IMWeAWwesMaiuxGKQrYQDMHP4WO+tsIizwwHXIxGJLOlWEIXYRzAQfLGuCN5yK6U/qtL4AxsCUpmoXwJVH/OANp2Lzl2148Ywv+0Ckv1IiVBcge9/uoLoA2ft2B9UFiO3bobbrLykfaQFS+nao2fp8dQEgrW+fhAAQ37dDkg+eA84cD3StyYl0/FZ/54nOjx4VoPYGahMjgNTdnqtvm0j7Cw5oInmr49O2srbB3r8CNroqQOpuT+cABzoHlEQFqL2B2ugc4BHQROeAU0fnAI81OdE5oCSnLsDI+Lz2eajrDMiNVPwR8Gr4mkpsIPccINVibTaWEOCQ54A2m9H8Z/ofp34GbJkDt8CXz+KuCjjUOcC0NfBGU/Z73/yWPswBrfTlFXBiE2BjfE79kVQIUX1bmq77/FxE921pXPf5Ncyrb0vTdp9f0qx9uxSu+/ySyaf8OlUE8z4/d9JefVtRFEWSPxP0IygZpV1AAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Button from '@mui/material/Button';\r\n\r\nexport default class NotationSwitch extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {standardChosen: true}\r\n\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    handleClick(standardChosen) {\r\n        this.setState({standardChosen: standardChosen});\r\n\r\n        this.props.handleNotationSwitch(standardChosen);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n           <StyledNotationSwitch>\r\n                    <Button variant='contained' onClick={() => this.handleClick(true)} data-chosen={this.state.standardChosen}>\r\n                        Standard notation\r\n\r\n                    </Button>\r\n                    <Button variant='contained' onClick={() => this.handleClick(false)} data-chosen={!this.state.standardChosen}>\r\n                        Simplified notation\r\n                    </Button>\r\n           </StyledNotationSwitch>\r\n        );\r\n    }\r\n}\r\n\r\nconst StyledNotationSwitch = styled.div`\r\n  display: flex;\r\n  box-shadow: var(--box-shadow);\r\n  background: var(--query-view-color);\r\n  background: var(--light-blue);\r\n  min-height: var(--convert-button-height);\r\n  align-items: center;\r\n  justify-content: center;\r\n  \r\n  button {\r\n    box-shadow: none;\r\n    white-space: nowrap;\r\n    border: none;\r\n    font: inherit;\r\n    text-transform: none;\r\n    border-radius: 0;\r\n    height: 100%;\r\n    color: #94bffe;\r\n    background: var(--light-blue);\r\n\r\n    &[data-chosen=\"true\"] {\r\n      color: white;\r\n    }\r\n    \r\n    &:hover {\r\n      background: var(--light-blue-hover);\r\n      box-shadow: none;\r\n      color: white;\r\n    }\r\n  }\r\n`","import React from \"react\";\r\nimport './NotationSwitch';\r\nimport styled from \"styled-components\";\r\nimport Button from '@mui/material/Button';\r\n\r\nexport default class ConvertButtonsPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = ({\r\n           apiText: \"\",\r\n           textEditorContent: \"\",\r\n           errorOccurred: false\r\n        });\r\n\r\n        this.fetchAtomicConversion = this.fetchAtomicConversion.bind(this);\r\n        this.notationSwitch = React.createRef();\r\n    }\r\n\r\n    fetchAtomicConversion() {\r\n        this.props.fetchAtomicConversion();\r\n    }\r\n\r\n    convertedText() {\r\n        return (\r\n            <div className=\"converted-text\">\r\n                Converted text: {this.state.apiText}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <StyledConvertButtonsPanel>\r\n                <Button variant='contained'\r\n                        onClick={this.props.fetchNotationConversion}>\r\n                    Convert to {`${this.props.standardChosen ? 'simplified' : 'standard'} notation`}\r\n                    <HiddenCircle />\r\n                </Button>\r\n                <Button variant='contained' onClick={this.fetchAtomicConversion}>\r\n                    Convert to TRC\r\n                </Button>\r\n            </StyledConvertButtonsPanel>\r\n        );\r\n    }\r\n}\r\n\r\nconst StyledConvertButtonsPanel = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  box-shadow: var(--box-shadow);\r\n  gap: var(--convert-button-gap);\r\n\r\n  button {\r\n    font: inherit;\r\n    color: black;\r\n    text-transform: none;\r\n    border-radius: 0;\r\n    height: var(--convert-button-height);\r\n    background-size: 300% 100%;\r\n    background-image: linear-gradient(90deg, rgb(232, 231, 231) 0%, rgb(255, 255, 255) 20%, rgb(224, 222, 222) 82%, rgb(255, 255, 255) 97%);\r\n\r\n    transition: background .2s ease-in-out;\r\n\r\n    &:hover {\r\n      background-position: 100% 0;\r\n    }\r\n  }\r\n`\r\n\r\nconst HiddenCircle = styled.span`\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  position: absolute;\r\n  z-index: 0;\r\n  inset: 0;\r\n  border-radius: inherit;\r\n`\r\n\r\nconst ConvertButton = styled.button`\r\n  cursor: pointer;\r\n  background: var(--query-view-color);\r\n  border: none;\r\n  width: 100%;\r\n  padding: 0;\r\n  min-height: var(--convert-button-height);\r\n  font-size: 1.125rem;\r\n\r\n  background-size: 300% 100%;\r\n  background-image: linear-gradient(to right, #25aae1, #4481eb, #04befe, #3f86ed);\r\n  box-shadow: 0 2px 2px 0 rgba(65, 132, 234, 0.75);\r\n  color: white;\r\n  \r\n  &:hover {\r\n    background-position: 100% 0;\r\n  }\r\n\r\n  &:active {\r\n    background: #003b62;\r\n    color: white;\r\n  }\r\n`","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default class SchemaInput extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            inputValue: this.props.defaultValue || '',\r\n            wrongInput: false\r\n        }\r\n\r\n        const identifierRegex = '[a-zA-Z][a-zA-Z0-9_-]*';\r\n\r\n        this.schemaRegex = new RegExp(`^$|(^${identifierRegex}\\\\(${identifierRegex}(,${identifierRegex})*\\\\)$)`);\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange(e) {\r\n        const inputText = e.target.value;\r\n\r\n        this.setState({\r\n            inputValue: inputText,\r\n            wrongInput: !this.schemaRegex.test(inputText.replace(/\\s*/g,\"\"))\r\n        });\r\n\r\n        this.props.handleChange(this.props.row, this.props.col, inputText);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <StyledSchemaInput\r\n                placeholder={'Table(column1, column2,...)'}\r\n                value={this.state.inputValue}\r\n                onChange={this.handleChange}\r\n                ref={this.props.inputRef}\r\n                data-wrong-input={this.state.wrongInput}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst StyledSchemaInput = styled.input`\r\n  padding: 0;\r\n  border: none;\r\n  font-size: 24px;\r\n  outline: 1px;\r\n  transition: .1s;\r\n  height: var(--convert-button-height);\r\n  text-align: center;\r\n  min-width: 0;\r\n  text-overflow: ellipsis;\r\n  box-shadow: var(--box-shadow);\r\n  width: 100%;\r\n\r\n  &[data-wrong-input=\"true\"] {\r\n    box-shadow: 0 0 2pt 2pt red !important;\r\n  }\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 2pt 2pt cornflowerblue;\r\n    border-radius: 2px;\r\n  }\r\n\r\n  &::placeholder {\r\n    font-size: 0.75em;\r\n  }\r\n`","import React from 'react';\r\nimport SchemaInput from \"./SchemaInput\";\r\nimport styled from 'styled-components';\r\n\r\nexport default class InputSchemaPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.values = [...Array(this.props.rows).keys()].map(() =>\r\n            [...Array(this.props.columns).keys()].map(() => []));\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange(row, col, newVal) {\r\n        this.props.handleChange(row, col, newVal);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <StyledInputSchemaPanel rows={this.props.rows}\r\n                                    columns={this.props.columns}>\r\n                <label className='controls-label'>Schema</label>\r\n                {[...Array(this.props.rows).keys()].map(i =>\r\n                    [...Array(this.props.columns).keys()].map(j =>\r\n                        <SchemaInput key={`schema-input-${i}-${j}`}\r\n                                     row={i}\r\n                                     col={j}\r\n                                     defaultValue={this.props.defaultValues[i][j]}\r\n                                     handleChange={this.handleChange}\r\n                                     number={i}\r\n                                     name={`simple-text-input-${i}`}/>))\r\n                }\r\n            </StyledInputSchemaPanel>\r\n        )\r\n    }\r\n}\r\n\r\nconst StyledInputSchemaPanel = styled.div`\r\n  display: grid;\r\n  grid-template-rows: ${props => '1fr '.repeat(props.rows)};\r\n  grid-template-columns: ${props => '1fr '.repeat(props.columns)};\r\n  gap: var(--convert-button-gap);\r\n  place-items: flex-start;\r\n  width: 100%;\r\n  position: relative;\r\n\r\n  @media only screen and (max-width: 916px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Checkbox} from \"@mui/material\";\r\n\r\nexport default class SwitchCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { isSelected: false }\r\n\r\n        this.handleSwitch = this.handleSwitch.bind(this);\r\n    }\r\n\r\n    handleSwitch(e) {\r\n        this.props.handleSwitch(this.props.name, e.target.checked);\r\n    }\r\n\r\n    render() {\r\n        const label = { inputProps: { 'aria-label': 'Toggle ' + this.props.label } };\r\n\r\n        return (\r\n            <StyledSwitchCard>\r\n                <label htmlFor={this.props.name}>\r\n                    { this.props.label }\r\n                </label>\r\n                        <Checkbox id={this.props.name}\r\n                                  {...label}\r\n                                  defaultChecked={this.props.defaultChecked}\r\n                                  onChange={this.handleSwitch}/>\r\n            </StyledSwitchCard>\r\n        );\r\n    }\r\n}\r\n\r\nconst StyledSwitchCard = styled.div`\r\n  background: var(--light-blue);\r\n  height: 100%;\r\n  min-width: 18em;\r\n  display: flex;\r\n  cursor: default;\r\n  transition: background .4s ease-in-out;\r\n  align-items: center;\r\n  color: white;\r\n\r\n  .css-12wnr2w-MuiButtonBase-root-MuiCheckbox-root.Mui-checked {\r\n    color: white;\r\n  }\r\n  \r\n  label {\r\n    width: 75%;\r\n    text-align: center;\r\n  }\r\n`","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SwitchCard from \"./SwitchCard\";\r\n\r\nexport default class SwitchCardPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.defaultChecked = {\"semanticChecking\": false,\"formatting\": false, \"prenexForm\":false};\r\n\r\n        this.handleSwitch = this.handleSwitch.bind(this);\r\n    }\r\n\r\n    handleSwitch(name, newValue) {\r\n        this.props.handleSwitch(name, newValue);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <StyledSwitchPanel className={this.props.className}>\r\n                <label className='controls-label'>Options</label>\r\n                <SwitchCard label='Semantic checking for RA'\r\n                            name='semanticChecking'\r\n                            defaultChecked={this.defaultChecked.semanticChecking}\r\n                            handleSwitch={this.handleSwitch} />\r\n                <SwitchCard label='Formatting for RA'\r\n                            name='formatting'\r\n                            defaultChecked={this.defaultChecked.formatting}\r\n                            handleSwitch={this.handleSwitch} />\r\n                <SwitchCard label='Prenex form for TRC'\r\n                            name='prenexForm'\r\n                            defaultChecked={this.defaultChecked.prenexForm}\r\n                            handleSwitch={this.handleSwitch} />\r\n            </StyledSwitchPanel>\r\n        );\r\n    }\r\n}\r\n\r\nconst StyledSwitchPanel = styled.div`\r\n  min-height: var(--notation-switch-height);\r\n  display: flex;\r\n  gap: var(--convert-button-gap);\r\n  flex-direction: column;\r\n  position: relative;\r\n  \r\n  @media only screen and (max-width: 916px) {\r\n    flex-direction: column;\r\n    display: block;\r\n  }\r\n`","import RichTextEditor from \"./RichTextEditor\";\r\nimport React from \"react\";\r\nimport QueryView from \"./QueryView\";\r\nimport ConvertButtonsPanel from './controls/ConvertButtonsPanel';\r\nimport NotationSwitch from \"./controls/NotationSwitch\";\r\nimport InputSchemaPanel from \"./InputSchemaPanel\";\r\nimport styled from \"styled-components\";\r\nimport SwitchCardPanel from \"./SwitchCardPanel\";\r\n\r\nconst BASE_URL = 'https://relational-api.herokuapp.com/';\r\n\r\nexport default class App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.schemaInputRows = 3;\r\n        this.schemaInputCols = 2;\r\n\r\n        const defaultSchemaInput = JSON.parse(localStorage.getItem('schema')) || [...Array(this.schemaInputRows).keys()].map(() =>\r\n            [...Array(this.schemaInputCols).keys()].map(() => []));\r\n\r\n        this.state = {\r\n            textEditorContent: \"\",\r\n            latexContent: \"\",\r\n            apiText: \"\",\r\n            errorOccurred: false,\r\n            standardChosen: true,\r\n            outputData: [],\r\n            formattingEnabled: false,\r\n            schemaInput: defaultSchemaInput,\r\n            switchValues: new Map([['semanticChecking', false], ['formatting', false], ['prenexForm', false]])\r\n        };\r\n\r\n        this.latexConversionMap = [['\\\\pi', 'π'], ['\\\\sigma', 'σ'], ['\\\\rho', 'ρ'],\r\n            ['\\\\triangleleft', '◁'], ['\\\\triangleright', '▷'], ['\\\\div', '÷'],\r\n            ['\\\\times', '⨯'], ['\\\\bowtie', '⋈'], ['\\\\leftouterjoin', '⟕'],\r\n            ['\\\\rightouterjoin', '⟖'], ['\\\\fullouterjoin', '⟗'], ['\\\\ltimes', '⋉'],\r\n            ['\\\\rtimes', '⋊'], ['\\\\langle', '⟨'], ['\\\\rangle', '⟩'],\r\n            ['\\\\cap', '∩'], ['\\\\cup', '∪'], ['\\\\setminus', '\\\\'],\r\n            ['\\\\land', '∧'], ['\\\\lor', '∨'], ['\\\\geq', '≥'],\r\n            ['\\\\leq', '≤'], ['\\\\lnot', '¬'], ['\\\\rightarrow', '→'],\r\n            ['\\\\neq', '≠']\r\n        ];\r\n\r\n        this.handleTextChange = this.handleTextChange.bind(this);\r\n        this.updateContent = this.updateContent.bind(this);\r\n        this.fetchConversion = this.fetchConversion.bind(this);\r\n        this.handleNotationSwitch = this.handleNotationSwitch.bind(this);\r\n        this.fetchRandomQuery = this.fetchRandomQuery.bind(this);\r\n        this.fetchNotationConversion = this.fetchNotationConversion.bind(this);\r\n        this.fetchAtomicConversion = this.fetchAtomicConversion.bind(this);\r\n        this.setFormatting = this.setFormatting.bind(this);\r\n        this.handleSwitch = this.handleSwitch.bind(this);\r\n        this.getSchemaInputValues = this.getSchemaInputValues.bind(this);\r\n        this.handleSchemaInputChange = this.handleSchemaInputChange.bind(this);\r\n        this.handleMoveToTextEditorButtonClick = this.handleMoveToTextEditorButtonClick.bind(this);\r\n\r\n        this.latexTextField = React.createRef();\r\n        this.textEditor = React.createRef();\r\n    }\r\n\r\n    handleTextChange(textEditorContent) {\r\n        this.setState({\r\n            textEditorContent: textEditorContent,\r\n            latexContent: \"\" // Trigger state update in QueryView\r\n        });\r\n    }\r\n\r\n    updateContent(newLatexContent) {\r\n        this.setState({\r\n            latexContent: newLatexContent,\r\n            textEditorContent: newLatexContent\r\n        });\r\n    }\r\n\r\n    fetchRandomQuery() {\r\n        fetch(BASE_URL + 'getRandomQuery')\r\n            .then(r => r.text())\r\n            .then(r => {\r\n\r\n                for (let i = 0; i < this.latexConversionMap.length; i++) {\r\n                    r = r.replaceAll(this.latexConversionMap[i][0], this.latexConversionMap[i][1]);\r\n                }\r\n\r\n                this.textEditor.current.setText(r);\r\n            });\r\n    }\r\n\r\n    fetchConversion(url, data) {\r\n        fetch(BASE_URL + url, {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            },\r\n            body: data\r\n        }).then(r => {\r\n            this.setState({errorOccurred: r.status !== 200})\r\n\r\n            return r;\r\n        }).then(r => r.text()).then(r => {\r\n            this.setState({apiText: r});\r\n        });\r\n    }\r\n\r\n    fetchNotationConversion() {\r\n        let data = new Object();\r\n\r\n        data.expression = this.latexTextField.current.getContentForConversion();\r\n        data.schema = this.getSchemaInputValues();\r\n        data.options = Object.fromEntries(this.state.switchValues);\r\n\r\n        const url = this.state.standardChosen ? '/convert/standardToSimplified' : '/convert/simplifiedToStandard';\r\n\r\n        this.fetchConversion(url, JSON.stringify(data));\r\n    }\r\n\r\n    fetchAtomicConversion() {\r\n        let data = new Object();\r\n\r\n        data.expression = this.latexTextField.current.getContentForConversion();\r\n        data.schema = this.getSchemaInputValues();\r\n        data.options = Object.fromEntries(this.state.switchValues);\r\n\r\n        const notationString = this.state.standardChosen ? 'standard' : 'simplified';\r\n\r\n        this.fetchConversion(`/convert/${notationString}ToTRC`, JSON.stringify(data));\r\n    }\r\n\r\n    handleNotationSwitch(standardChosen) {\r\n        this.setState({standardChosen: standardChosen});\r\n    }\r\n\r\n    setFormatting(newVal) {\r\n        this.setState({formattingEnabled: newVal});\r\n    }\r\n\r\n    getSchemaInputValues() {\r\n        let strings = this.state.schemaInput.filter(el => el[0].length !== 0).flatMap(row => row.map(el => el === [] ? '' : el.replace(/ /g, '')));\r\n\r\n        return strings.map(s => {\r\n            const idxLeftPar = s.indexOf('(');\r\n            const idxRightPar = s.indexOf(')');\r\n\r\n            return [s.slice(0, idxLeftPar), s.slice(idxLeftPar + 1, idxRightPar).split(',')];\r\n        });\r\n    }\r\n\r\n    handleSwitch(name, newValue) {\r\n        let newMap = new Map(this.state.switchValues);\r\n\r\n        newMap.set(name, newValue);\r\n\r\n        localStorage.setItem('switches', JSON.stringify(Object.fromEntries(newMap)));\r\n\r\n        this.setState({switchValues: newMap});\r\n    }\r\n\r\n    handleSchemaInputChange(row, col, newVal) {\r\n        let current = this.state.schemaInput;\r\n        current[row][col] = newVal;\r\n\r\n        localStorage.setItem('schema', JSON.stringify(current));\r\n\r\n        this.setState({schemaInput: current})\r\n    }\r\n\r\n    handleMoveToTextEditorButtonClick(text) {\r\n        for (let i = 0; i < this.latexConversionMap.length; i++) {\r\n            text = text.replaceAll(this.latexConversionMap[i][0], this.latexConversionMap[i][1]);\r\n        }\r\n\r\n        this.textEditor.current.setText(text);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AppWrapper>\r\n                <link href=\"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css\" rel=\"stylesheet\"/>\r\n                <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.rawgit.com/dreampulse/computer-modern-web-font/master/fonts.css\"/>\r\n                <div className=\"text-editor-wrapper\">\r\n                    <RichTextEditor handleTextChange={this.handleTextChange}\r\n                                    fetchRandomQuery={this.fetchRandomQuery}\r\n                                    ref={this.textEditor}/>\r\n                </div>\r\n                <QueryView content={this.state.textEditorContent}\r\n                           updateLatexContent={this.updateContent}\r\n                           errorOccurred={this.state.errorOccurred}\r\n                           label='LaTeX input view'\r\n                           isInput={true}\r\n                           ref={this.latexTextField}/>\r\n                <QueryView content={this.state.apiText}\r\n                           isInput={false}\r\n                           formattingEnabled={this.state.switchValues.get('formatting')}\r\n                           errorOccurred={this.state.errorOccurred}\r\n                           handleMoveToTextEditorButtonClick={this.handleMoveToTextEditorButtonClick}\r\n                           latexConversionMap={this.latexConversionMap}\r\n                           label='LaTeX output view'/>\r\n                <ButtonsAndSchemaSection>\r\n                    <ConvertButtonsWrapper>\r\n                        <label className='controls-label'>Conversion controls</label>\r\n                        <NotationSwitch handleNotationSwitch={this.handleNotationSwitch}/>\r\n                        <ConvertButtonsPanel textEditorContent={this.state.textEditorContent}\r\n                                             fetchNotationConversion={this.fetchNotationConversion}\r\n                                             fetchAtomicConversion={this.fetchAtomicConversion}\r\n                                             standardChosen={this.state.standardChosen}\r\n                                             updateContent={this.updateContent}/>\r\n                    </ConvertButtonsWrapper>\r\n                    <StyledSwitchCardPanel\r\n                        handleSwitch={this.handleSwitch}\r\n                        className={this.props.className}\r\n                        setFormatting={this.setFormatting}/>\r\n                    <InputSchemaPanel rows={this.schemaInputRows}\r\n                                      columns={this.schemaInputCols}\r\n                                      defaultValues={this.state.schemaInput}\r\n                                      handleChange={this.handleSchemaInputChange}/>\r\n                </ButtonsAndSchemaSection>\r\n            </AppWrapper>\r\n        );\r\n    }\r\n}\r\n\r\nconst AppWrapper = styled.div`\r\n  display: flex;\r\n  width: 80vw;\r\n  flex-direction: column;\r\n  gap: 64px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-top: 24px;\r\n`;\r\n\r\nconst ConvertButtonsWrapper = styled.div`\r\n  width: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--convert-button-gap);\r\n  position: relative;\r\n`\r\n\r\nconst Label = styled.label`\r\n  position: absolute;\r\n  color: white;\r\n  font-size: 1.25rem;\r\n  top: -2em;\r\n`;\r\n\r\nconst ButtonsAndSchemaSection = styled.section`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  gap: 1em;\r\n  width: 100%;\r\n  font-family: Niramit, \"sans-serif\";\r\n\r\n  @media only screen and (max-width: 916px) {\r\n    flex-direction: column;\r\n  }\r\n`\r\n\r\nconst StyledSwitchCardPanel = styled(SwitchCardPanel)`\r\n  box-shadow: var(--box-shadow);\r\n`\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport App from './App';\r\n\r\nconst theme = {\r\n    isMonochromatic : true\r\n}\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <ThemeProvider theme={theme}>\r\n            <App />\r\n        </ThemeProvider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}